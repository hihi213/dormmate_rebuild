# Tech Decisions

## 1. 패키지 구조 (Global + Domain)
- **선택:** 루트는 `com.dormmate`로 통일한다. 최상위는 `global`과 `domain`으로 분리하며, `domain`은 기능 단위(fridge, auth, inspection, admin, notifications)로 구성한다. 규모가 큰 도메인(fridge)은 slot/bundle/item 하위 모듈로 세분화한다. 횡단 관심사(설정/보안/에러/공통 응답/유틸)는 `global`에 둔다.
- **근거:** Phase 1~5 범위와 API 그룹을 그대로 반영하면서 패키지 경로를 짧게 유지하고, 도메인 소유권/재사용 경계를 명확히 할 수 있다. 기능이 늘어나도 도메인 단위로 확장 가능하다.
- **대안:** 레이어 중심 구조만 유지(상위에 controller/service/repository)하거나, 하위 모듈 분리 없이 단일 도메인으로 유지.

## 2. 도메인 경계/중복 방지 기준
- **선택:** 큰 틀은 `global + domain`을 유지한다. `domain`은 기능 단위(Phase 기반)로 구성하되, 규모가 큰 도메인은 하위 모듈로 분리한다. 중복이 반복되는 것만 `global`로 승격한다.
- **실무 규칙:**
  - 같은 로직/정책이 2개 이상 도메인에서 반복되면 `global`로 승격한다.
  - “소유 도메인”을 정해 참조만 허용한다. 예: 사용자(User)는 auth가 소유, 다른 도메인은 참조만 한다.
  - 도메인 간 직접 의존은 최소화한다. 필요한 경우 공통 DTO/정책만 공유하고, 내부 로직은 분리한다.
  - 냉장고(fridge)처럼 큰 기능은 slot/bundle/item으로 분해해 책임을 축소한다.
- **근거:** 중복을 방치하면 규칙이 분산되고 복잡도가 상승한다. 명확한 승격 기준과 소유권 규칙이 유지보수 비용을 줄인다.
- **대안:** 초기부터 과도한 공통화를 진행하거나, 모든 로직을 단일 도메인에 유지하는 방식.
